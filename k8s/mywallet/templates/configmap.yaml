apiVersion: v1
kind: ConfigMap
metadata:
  name: {{ include "mywallet.fullname" . }}-config
  namespace: {{ .Values.global.namespace }}
  labels:
    {{- include "mywallet.labels" . | nindent 4 }}
data:
  # Node environment
  NODE_ENV: {{ .Values.backend.env.NODE_ENV | quote }}

  # Logging
  LOG_LEVEL: {{ .Values.backend.env.LOG_LEVEL | quote }}

  # Backend API port
  PORT: {{ .Values.backend.env.PORT | quote }}

  # MongoDB configuration
  MONGODB_HOST: {{ include "mywallet.mongodb.fullname" . | quote }}
  MONGODB_PORT: {{ .Values.mongodb.service.port | quote }}
  MONGODB_DATABASE: {{ .Values.mongodb.auth.database | quote }}
  MONGODB_USERNAME: {{ .Values.mongodb.auth.rootUsername | quote }}

  # Temporal configuration
  TEMPORAL_ADDRESS: {{ .Values.temporal.address | quote }}
  TEMPORAL_NAMESPACE: {{ .Values.temporal.namespace | quote }}
  TEMPORAL_TASK_QUEUE: {{ .Values.temporal.taskQueue | quote }}

  # Gmail configuration
  GMAIL_PUBSUB_TOPIC: {{ .Values.app.gmail.pubSubTopic | quote }}

  # AI configuration
  AI_PROVIDER: {{ .Values.app.ai.provider | quote }}
  AI_MODEL: {{ .Values.app.ai.model | quote }}
